## [适配器模式](https://www.cnblogs.com/songyaqi/p/4805820.html)

### 定义

* 适配器模式：将一个类的接口转换成客户希望的另一个接口。适配器模式让那些接口不兼容的类可以一起工作
* 适配器别名为包装器（Wrapper）模式，它既可以作为类结构型模式，也可以作为对象结构性型模式。在适配器模式定义中所提及的接口是指广义的接口，他可以表示一个方法或者是方法的集合。

### 结构

类适配器模式结构图：

![img](https://images2015.cnblogs.com/blog/723909/201509/723909-20150913213540512-374537073.png)

对象适配器结构图：

![img](https://images2015.cnblogs.com/blog/723909/201509/723909-20150913213659434-986255361.jpg)

适配器模式包含三个角色：

* Target(目标抽象类)：目标抽象类定义客户所需的接口，可以是一个抽象类或接口，也可以是具体类。
* Adapter(适配器类)：它可以调用另一个接口，作为一个转换器，对Adaptee和Target进行适配。
* Adaptee(适配者类)：适配者即被适配的角色，它定义了一个已经存在的接口，这个接口需要适配，适配者类包好了客户希望的业务方法。

### 实现

1. 类适配器
2. 对象适配器(使用频率较高)

### 优缺点

优点：

1. 将目标类和适配者类解耦，通过引入一个适配器类来重用现有的适配者类，无需修改原有结构。

2. 增加了类的透明性和复用性，将具体的业务实现过程封装在适配者类中，对于客户端类而言是透明的，而且提高了适配者的复用性，同一适配者类可以在多个不同的系统中复用。

3. 灵活性和扩展性都非常好，通过使用配置文件，可以很方便的更换适配器，也可以在不修改原有代码的基础上 增加新的适配器，完全符合开闭原则。

   > 开闭原则(OCP)：软件实体应当对扩展开放，对修改关闭。

缺点：

1. 一次最多只能适配一个适配者类，不能同时适配多个适配者。
2. 目标抽象类只能为接口，不能为类，其使用有一定的局限性。

### 适用环境

* 系统需要适用一些现有的类，而这些类的接口不符合系统的需要，甚至没有这些类的源代码
* 创建一个可以重复使用的类，用于和一些彼此没有太大关联的类，包括一些可能在将来引进的类一起工作

### 缺醒适配器模式

* 缺醒适配器模式(Default Adapter Pattern)：当不需要实现一个接口所提供的所有方法时，可先设计一个抽象类实现该接口，并为接口中的每个方法提供一个默认实现(空方法)，那么该抽象类可以有选择性的覆盖父类的某些方法来实现需求，它适用于不想使用一个接口中的所有方法的情况，又称为单接口适配器模式。![img](https://images2015.cnblogs.com/blog/723909/201509/723909-20150913231439497-351417556.png)

### 双向适配器

* 在对象适配器中如果同时包含目标类和适配者类的引用，适配者可以通过它调用目标类中的方法，目标类也可以通过它调用适配者类中的方法，那么该适配器就是一个双向适配器。

  ![img](https://images2015.cnblogs.com/blog/723909/201509/723909-20150913232905575-1352084279.png)

